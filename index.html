<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto 3i/atlas: La AdvertENCIA (v3.1)</title>
    <!-- Se elimin√≥ el shortcut icon como pediste -->
    <style>
        /* --- ESTILOS CSS --- */
        :root {
            --font-main: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            --color-bg-light: #f5f5f7;
            --color-bg-dark: #121212;
            --color-surface-light: rgba(255, 255, 255, 0.7);
            --color-surface-dark: rgba(30, 30, 30, 0.85);
            --color-text-light: #1d1d1f;
            --color-text-dark: #f5f5f7;
            --color-primary: #007aff;
            --color-accent: #00e5ff;
            --color-warning: #ff3b30;
            --color-success: #34c759;
            --border-radius: 12px;
            
            --theme-bg: var(--color-bg-light);
            --theme-text: var(--color-text-light);
            --theme-surface: var(--color-surface-light);
        }

        body.dark-theme {
            --theme-bg: var(--color-bg-dark);
            --theme-text: var(--color-text-dark);
            --theme-surface: var(--color-surface-dark);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: var(--font-main);
            background-color: var(--theme-bg);
            color: var(--theme-text);
            line-height: 1.6;
            transition: background-color 0.4s ease, color 0.4s ease;
        }

        /* --- Header y Navegaci√≥n --- */
        .site-header {
            position: fixed;
            top: 0; width: 100%; z-index: 1000;
            background: var(--theme-surface);
            backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(128,128,128,0.2);
        }

        .logo { font-weight: bold; font-size: 1.5rem; color: var(--color-primary); display: flex; align-items: center; gap: 10px; text-decoration: none; }
        .telescopio { width: 30px; height: 30px; }
        
        .nav-links a, .cta-button {
            margin-left: 1rem;
            text-decoration: none;
            cursor: pointer;
            color: var(--theme-text);
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--color-primary); }

        .cta-button {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            background: var(--color-primary);
            color: white !important;
            border: none;
            transition: transform 0.2s, background-color 0.3s;
        }
        .cta-button:hover { transform: scale(1.05); background-color: #0056b3; }

        .theme-toggle-button {
            cursor: pointer;
            padding: 5px;
            font-size: 1.2rem;
            margin-left: 1rem;
        }

        /* --- P√°ginas --- */
        .page { display: none; padding-top: 80px; min-height: 100vh; }
        .page.active { display: block; animation: fadeIn 0.5s ease; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Hero Section --- */
        .hero {
            text-align: center;
            padding: 4rem 1rem;
            max-width: 900px;
            margin: 0 auto;
        }
        .hero h1 { font-size: 3.5rem; margin-bottom: 1rem; letter-spacing: -2px; line-height: 1.1; }
        .hero p { font-size: 1.25rem; color: gray; margin-bottom: 2rem; }
        
        /* --- Secciones de Info (Estilo Avi Loeb) --- */
        .loeb-section {
            text-align: left;
            margin-top: 4rem;
            padding: 2rem;
            background: rgba(0,0,0,0.03);
            border-radius: 18px;
            border-left: 4px solid var(--color-primary);
        }
        body.dark-theme .loeb-section { background: rgba(255,255,255,0.05); }
        
        .loeb-section h3 { font-size: 1.8rem; margin-bottom: 1rem; color: var(--theme-text); }
        .loeb-section p { font-size: 1.1rem; margin-bottom: 1rem; color: var(--theme-text); opacity: 0.9; }
        .highlight { color: var(--color-primary); font-weight: bold; }

        /* --- Login Box --- */
        .login-container {
            display: flex; justify-content: center; align-items: center; height: 80vh;
        }
        .login-box {
            background: var(--theme-surface);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 30px rgba(0,0,0,0.1);
            width: 100%; max-width: 400px;
            border: 1px solid rgba(128,128,128,0.1);
        }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600; }
        .form-group input {
            width: 100%; padding: 0.8rem;
            border-radius: 8px; border: 1px solid #ccc;
            background: var(--theme-bg); color: var(--theme-text);
        }
        
        /* --- NUEVO RASTREADOR (Sin 3D) --- */
        .tracker-layout {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-container {
            background: #050505;
            border-radius: var(--border-radius);
            padding: 2rem;
            color: #00e5ff;
            font-family: 'Courier New', Courier, monospace;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 550px;
            box-shadow: inset 0 0 80px rgba(0, 229, 255, 0.05);
            border: 1px solid #222;
        }

        /* C√≠rculo de Proximidad SVG */
        .proximity-gauge {
            width: 300px;
            height: 300px;
            position: relative;
            margin-bottom: 2rem;
        }
        .gauge-circle-bg {
            fill: none;
            stroke: #1a1a1a;
            stroke-width: 10;
        }
        .gauge-circle-fill {
            fill: none;
            stroke: var(--color-accent);
            stroke-width: 10;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dashoffset 0.5s linear;
            filter: drop-shadow(0 0 8px var(--color-accent));
        }
        .gauge-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
        }
        .gauge-value { font-size: 3rem; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.5); }
        .gauge-label { font-size: 0.8rem; text-transform: uppercase; color: #888; letter-spacing: 2px; }

        .dashboard-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        /* Terminal de logs */
        .terminal-log {
            width: 100%;
            height: 120px;
            background: rgba(0,20,0,0.3);
            border: 1px solid #333;
            padding: 1rem;
            overflow-y: hidden;
            font-size: 0.75rem;
            color: var(--color-success);
            font-family: 'Courier New', Courier, monospace;
            border-left: 3px solid var(--color-success);
        }
        .log-line { margin-bottom: 5px; opacity: 0.8; }
        .blink { animation: blinker 1s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }

        /* Sidebar de datos */
        .sidebar {
            background: var(--theme-surface);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            height: fit-content;
        }
        .status-list { list-style: none; }
        .status-list li {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(128,128,128,0.2);
            font-size: 0.95rem;
        }
        .status-label { font-weight: 600; color: var(--theme-text); opacity: 0.7; }
        .status-val { font-family: 'Courier New', Courier, monospace; font-weight: 700; color: var(--color-primary); }

        /* Responsive */
        @media (max-width: 850px) {
            .tracker-layout { grid-template-columns: 1fr; }
            .nav-links { display: none; } 
            .hero h1 { font-size: 2.5rem; }
            .dashboard-container { min-height: 400px; }
            .gauge-value { font-size: 2.5rem; }
        }
    </style>
</head>
<body class="light-theme">

    <!-- HEADER -->
    <header class="site-header">
        <a href="#" class="logo" onclick="navigateTo('page-informacion')">
            <span>üî≠</span> 3i/atlas
        </a>
        <nav class="nav-links">
            <a onclick="navigateTo('page-informacion')">Teor√≠a Loeb</a>
            <a onclick="navigateTo('page-tracker')">Datos en Vivo</a>
        </nav>
        <div style="display:flex; align-items:center;">
            <button id="login-btn" class="cta-button" onclick="navigateTo('page-login')">Iniciar Sesi√≥n</button>
            <button id="logout-btn" class="cta-button" style="display:none; background-color: #666;" onclick="handleLogout()">Desconectar</button>
            <div id="theme-toggle" class="theme-toggle-button" title="Cambiar Tema">üåì</div>
        </div>
    </header>

    <main>
        <!-- PAGINA 1: INFORMACI√ìN -->
        <section id="page-informacion" class="page active">
            <div class="hero">
                <h1>No estamos solos.<br>Nunca lo estuvimos.</h1>
                <p><strong>02 de Diciembre, 2025.</strong> Los datos confirman lo que la comunidad cient√≠fica tem√≠a admitir.</p>
                
                <div style="background: rgba(255, 59, 48, 0.08); padding: 20px; border-radius: 12px; border: 1px solid var(--color-warning); margin: 30px 0; text-align: left;">
                    <h4 style="color: var(--color-warning); margin-bottom: 10px; display:flex; align-items:center; gap:10px;">
                        ‚ö†Ô∏è ALERTA PROYECTO GALILEO - NIVEL 1
                    </h4>
                    <p style="color: var(--theme-text); margin:0; font-size: 0.95rem;">
                        La se√±al de telemetr√≠a de las 04:00 AM confirma una <strong>desaceleraci√≥n no gravitacional</strong> del objeto 3i/Atlas de 0.8 micrones por segundo al cuadrado. Esto no es sublimaci√≥n de hielo. Esto es un frenado intencional.
                    </p>
                </div>

                <div class="loeb-section">
                    <h3>La Hip√≥tesis de la Vela Solar</h3>
                    <p>Durante a√±os, mis colegas insistieron en que 'Oumuamua era una roca extra√±a. Yo pregunt√©: ¬øPor qu√© aceleraba sin dejar rastro de gas? ¬øPor qu√© brillaba de manera intermitente?</p>
                    <p>Ahora, con <strong>3i/Atlas</strong>, la evidencia es irrefutable. Su relaci√≥n masa-superficie sugiere que es extremadamente delgado, posiblemente menos de un mil√≠metro de espesor. <span class="highlight">Esto no es un asteroide. Es una vela de luz.</span></p>
                    <p>Imagin√° una hoja de papel gigante flotando en el viento estelar, impulsada por la radiaci√≥n de las estrellas. Es una tecnolog√≠a que nosotros apenas estamos empezando a so√±ar, pero que alguien m√°s ya domin√≥ hace eones.</p>
                </div>

                <div class="loeb-section" style="border-left-color: var(--color-success);">
                    <h3>El Principio de Mediocridad</h3>
                    <p>Es arrogante pensar que somos la √∫nica civilizaci√≥n inteligente en un universo con trillones de planetas. Es como ser una hormiga en una vereda de Buenos Aires y creer que sos el due√±o de la ciudad porque nunca viste a un humano mir√°ndote con lupa.</p>
                    <p>3i/Atlas podr√≠a ser una boya de navegaci√≥n, basura espacial antigua o, en el escenario m√°s inquietante, una sonda activa buscando signos de biolog√≠a o tecnolog√≠a nuclear.</p>
                    <p><strong>La f√≠sica no miente.</strong> Y la f√≠sica nos dice que esto fue fabricado.</p>
                </div>

                <div style="margin-top: 3rem;">
                    <button class="cta-button" onclick="navigateTo('page-login')" style="padding: 1rem 2rem; font-size: 1.2rem;">Acceder a los Datos Crudos</button>
                </div>
            </div>
        </section>

        <!-- PAGINA 2: LOGIN -->
        <section id="page-login" class="page">
            <div class="login-container">
                <div class="login-box">
                    <h2 style="text-align: center; margin-bottom: 2rem;">Acceso a ATLAS</h2>
                    <p style="text-align: center; margin-bottom: 2rem; color: gray;">Ingres√° tus credenciales para ver la telemetr√≠a en tiempo real.</p>
                    <form id="form-login">
                        <div class="form-group">
                            <label>Identificador de Usuario</label>
                            <input type="text" id="username" placeholder="Ej: investigador_01" required>
                        </div>
                        <div class="form-group">
                            <label>Clave de Acceso</label>
                            <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        </div>
                        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">Autenticar</button>
                    </form>
                    <p style="font-size: 0.8rem; text-align: center; margin-top: 20px; opacity: 0.5;">Conexi√≥n segura v√≠a AppScript / Google Cloud</p>
                </div>
            </div>
        </section>

        <!-- PAGINA 3: RASTREADOR (NUEVO DISE√ëO 2D) -->
        <section id="page-tracker" class="page">
            <div class="tracker-layout">
                
                <!-- 1. El Nuevo Aparato de Seguimiento (Dashboard) -->
                <div class="dashboard-container">
                    <div class="dashboard-header">
                        <span>SISTEMA DE RASTREO: <span style="color:var(--color-success)">EN LINEA</span></span>
                        <span>LINK: DEEP SPACE NETWORK [GOLDSTONE]</span>
                        <span>TARGET: 3i/ATLAS</span>
                    </div>

                    <!-- Gr√°fico Circular SVG -->
                    <div class="proximity-gauge">
                        <svg width="300" height="300">
                            <!-- Fondo del c√≠rculo -->
                            <circle class="gauge-circle-bg" cx="150" cy="150" r="120"></circle>
                            <!-- Relleno del c√≠rculo (Progreso) -->
                            <circle class="gauge-circle-fill" cx="150" cy="150" r="120" stroke-dasharray="754" stroke-dashoffset="754"></circle>
                        </svg>
                        <div class="gauge-text">
                            <div class="gauge-value" id="dashboard-distance">98.4</div>
                            <div class="gauge-label">UA (Unidades Astron√≥micas)</div>
                            <div style="font-size: 0.7rem; color: var(--color-accent); margin-top:5px; letter-spacing: 1px;">DISTANCIA A TIERRA</div>
                        </div>
                    </div>

                    <!-- Terminal Log -->
                    <div class="terminal-log" id="terminal-output">
                        <div class="log-line">> [SYSTEM] Iniciando conexi√≥n segura (v3.0)...</div>
                        <div class="log-line">> [SENSOR] Calibrando espectrometr√≠a Doppler...</div>
                        <div class="log-line">> [NETWORK] Obteniendo paquetes de datos... <span class="blink">_</span></div>
                    </div>
                </div>

                <!-- 2. Sidebar con datos num√©ricos -->
                <aside class="sidebar">
                    <h3 style="margin-bottom: 1.5rem; border-bottom: 2px solid var(--color-primary); padding-bottom: 0.5rem;">Telemetr√≠a en Vivo</h3>
                    <ul class="status-list">
                        <li><span class="status-label">ID Objetivo</span> <span class="status-val">3i/ATLAS-001</span></li>
                        <li><span class="status-label">Velocidad</span> <span class="status-val"><span id="sim-velocity">150.45</span> km/s</span></li>
                        <li><span class="status-label">ETA Tierra</span> <span class="status-val" id="sim-time">--</span></li>
                        <li><span class="status-label">Se√±al</span> <span class="status-val" style="color:var(--color-success)">FUERTE (-89dB)</span></li>
                        <li><span class="status-label">Maniobra</span> <span class="status-val" style="color:var(--color-warning)">FRENADO ACTIVO</span></li>
                        <li><span class="status-label">Origen</span> <span class="status-val">INTERESTELAR</span></li>
                    </ul>
                    <div style="margin-top: 20px; font-size: 0.8rem; color: var(--theme-text); opacity: 0.6; line-height: 1.4;">
                        <strong>Nota T√©cnica:</strong> La velocidad se calcula utilizando el corrimiento al rojo Doppler corregido por la gravedad solar. Cualquier desviaci√≥n >0.01% indica propulsi√≥n artificial.
                    </div>
                </aside>

            </div>
        </section>
    </main>

    <script>
        // estado
        let isLoggedIn = false;
        let simulationTimer = null;

        // Elementos de la pagina
        const pages = document.querySelectorAll('.page');
        const loginBtn = document.getElementById('login-btn');
        const logoutBtn = document.getElementById('logout-btn');

        // --- 1. L√≥gica de Navegaci√≥n ---
        function navigateTo(pageId) {
            if (pageId === 'page-tracker' && !isLoggedIn) {
                alert("Acceso Restringido: Se requiere autorizaci√≥n de Nivel 1 para ver datos en tiempo real.");
                pageId = 'page-login';
            }

            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');

            if (pageId === 'page-tracker') {
                iniciarSimulacion();
            } else {
                detenerSimulacion();
            }
        }

        // --- 2. L√≥gica de Login ---
        document.getElementById('form-login').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = this.querySelector('button');
            const originalText = btn.textContent;
            
            btn.textContent = "Verificando credenciales...";
            btn.disabled = true;
            btn.style.opacity = "0.7";
            
            // Simulaci√≥n de network request (aqu√≠ ir√≠a tu fetch real)
            setTimeout(() => {
                isLoggedIn = true;
                actualizarHeader();
                navigateTo('page-tracker');
                btn.textContent = originalText;
                btn.disabled = false;
                btn.style.opacity = "1";
            }, 1200);
        });

        function handleLogout() {
            isLoggedIn = false;
            actualizarHeader();
            navigateTo('page-informacion');
        }

        function actualizarHeader() {
            if (isLoggedIn) {
                loginBtn.style.display = 'none';
                logoutBtn.style.display = 'inline-block';
            } else {
                loginBtn.style.display = 'inline-block';
                logoutBtn.style.display = 'none';
            }
        }

        // --- 3. SISTEMA DE RASTREO SIMULADO ---
        function iniciarSimulacion() {
            if (simulationTimer) return;
            
            console.log("Sistema de rastreo activado.");
            
            const elDistancia = document.getElementById('dashboard-distance');
            const elVelocidad = document.getElementById('sim-velocity');
            const elTiempo = document.getElementById('sim-time');
            const elCirculo = document.querySelector('.gauge-circle-fill');
            const elTerminal = document.getElementById('terminal-output');

            // Valores iniciales (dram√°ticos para el 2025)
            let distanciaUA = 98.44; 
            let velocidad = 150.45;
            const circunferencia = 2 * Math.PI * 120; // 754 aprox

            simulationTimer = setInterval(() => {
                // Simulaci√≥n de fluctuaci√≥n de datos
                velocidad += (Math.random() - 0.6) * 0.5; // Tendencia a bajar levemente (frenado)
                distanciaUA -= 0.00005; // Acercamiento

                elVelocidad.innerText = velocidad.toFixed(2);
                elDistancia.innerText = distanciaUA.toFixed(3);
                
                // C√°lculo simple de ETA
                let horasRestantes = (distanciaUA * 149597870) / velocidad / 3600;
                let dias = Math.floor(horasRestantes / 24);
                elTiempo.innerText = `${dias} D√≠as`;

                // Animaci√≥n del SVG (Progreso inverso: empieza vac√≠o lejos, se llena cerca)
                // Asumimos rango 100 UA a 0 UA
                let porcentaje = 1 - (distanciaUA / 100); 
                // Clampeamos entre 0 y 1
                if(porcentaje < 0) porcentaje = 0;
                if(porcentaje > 1) porcentaje = 1;

                let offset = circunferencia * (1 - porcentaje);
                elCirculo.style.strokeDashoffset = offset;

                // Logs aleatorios
                if (Math.random() > 0.8) {
                    agregarLogTerminal(elTerminal);
                }

            }, 800);
        }

        function detenerSimulacion() {
            if (simulationTimer) {
                clearInterval(simulationTimer);
                simulationTimer = null;
            }
        }

        function agregarLogTerminal(contenedor) {
            const mensajes = [
                "[ALERTA] Correcci√≥n de curso detectada (+0.04¬∞)",
                "[ANALISIS] Espectro de reflexi√≥n: MET√ÅLICO",
                "[COMMS] Ruido de fondo en banda K...",
                "[SISTEMA] Actualizando efem√©rides...",
                "[ALERTA] Desaceleraci√≥n an√≥mala confirmada",
                "[DATOS] Paquete 4492 recibido de Voyager 2"
            ];
            const mensajeRandom = mensajes[Math.floor(Math.random() * mensajes.length)];
            
            const linea = document.createElement('div');
            linea.className = 'log-line';
            linea.innerText = `> ${mensajeRandom}`;
            
            contenedor.appendChild(linea);
            // Mantener solo los ultimos 5 logs para no saturar
            if(contenedor.children.length > 6) {
                contenedor.removeChild(contenedor.children[0]);
            }
        }

        // --- 4. Tema ---
        const themeBtn = document.getElementById('theme-toggle');
        themeBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            document.body.classList.toggle('light-theme');
        });

    </script>
</body>
</html>
